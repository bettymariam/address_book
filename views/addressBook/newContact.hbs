<form class ="well" method="POST" action="/contacts">
  <div class="form-group">
    <label for="first_name">First Name</label>
    <input type="text" name="first_name" class="form-control" id="first_name">
  </div>
  <div class="form-group">
    <label for="last_name">Last Name</label>
    <input type="text" name="last_name" class="form-control" id="last_name">
  </div>
  <div class="form-group">
    <label for="phone_number">Phone Number</label>
    <input type="text" class="form-control" id="phone_number" name="phone_number">
  </div>
  <div class="form-group">
    <label for="email_address">Email</label>
    <input class="form-control" id="email_address" name="email_address"></input>
  </div>
  <div class="form-group">
    <label for="image_url">Image url</label>
    <input class="form-control" type="text" id="image_url" name="image_url">
  </div>
  <div class="form-group">
    <label for="addressDropdown">Select an address </label>
    <select id="addressDropdown">
      <option value=""></option>
      {{#each result}}
        <option value="{{addressJson}}">{{addressString}}</option>
      {{/each}}
    </select>
  </div>
  <div class="form-group">
    <label for="line_1">Address line 1</label>
    <input type="text" name="line_1" class="form-control" id="line_1">
  </div>
  <div class="form-group">
    <label for="line_2">Address line 2</label>
    <input type="text" class="form-control" id="line_2" name="line_2">
  </div>
  <div class="form-group">
    <label for="city">City</label>
    <input type="text" class="form-control" id="city" name="city"></input>
  </div>
  <div class="form-group">
    <label for="zip">Zip</label>
    <input type="integer" id="zip" name="zip">
  </div>

  <button type="submit" class="btn btn-default">Submit</button>
</form>
<script type="text/javascript">
  $('#addressDropdown').on('change', function(){
    var addressString = $(this).val();
    console.log(addressString)
    var address = JSON.parse(addressString)
    $('#line_1').val(address.line_1);
    $('#line_2').val(address.line_2);
    $('#city').val(address.city);
    $('#zip').val(address.zip);
  })
</script>
